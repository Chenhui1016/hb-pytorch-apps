### The LGC-ISTA app

  This folder contains the LGC-ISTA PyTorch code for HB Manycore and HB Manycore with sparse accelerator integration backend.
  The lgc_ista.py code is for HB Manycore backend. Both emulation and co-simulation mode are supported, we can use this code to get the HB Host time result, cosimulation result and also runtime result of CPU backend.
  The lgc_ista_hbspmvxcel.py code is for HB Manycore with SpMV accelerator integration, we can use this code to get the HB Host time result, cosimulation result. It should be noticed that since the SpMV kernel code of for the SpMV accelerator cannot be emulated by CPU, it is a fake implementation in emulation mode, the result is wrong. But we still use this to get the HB Host time.

## Getting the runtime profiling for HB Manycore

  The pytorch-sparse-workload branch of hb-pytoch repo should be used to build the HB PyTorch environment in order to run  this code.

  Run "python lgc_ista.py" for CPU profiling
  Run "python lgc_ista.py --hammerblade" for HB host time profiling
  Read the lgc_ista.json route and run "python lgc_ista.py" for cosimulation profiling.

## Getting the runtime profiling for HB Manycore with SpMV accelerator integration

  The hbpytorch-sparse-cosim branch of hb-pytorch repo should be used to build the HB PyTorch environment in order to run this code.
  
  Run "python lgc_ista_hbspmvxcel.py --hammerblade" for HB host time profiling
  Read the lgc_ista.json route and run "python lgc_ista_hbspmvxcel.py" for cosimulation profiling.
